kind: Suite
apiVersion: test.gatekeeper.sh/v1alpha1
metadata:
  name: machine-load-balancer
tests:
  - name: machine-loadbalancer
    template: ../../gktemplates/aro-deny-machine-load-balancer.yaml
    constraint: ../../gkconstraints-test/aro-machine-load-balancer.yaml
    cases:
      - name: allowed-create-machineset
        object: gator-test/allowed_create_machineset.yaml
        assertions:
          - violations: no
      - name: allowed-update-machineset
        object: gator-test/allowed_update_machineset.yaml
        assertions:
          - violations: no
      - name: not-allowed-ilb-create-machineset
        object: gator-test/not_allowed_ilb_create_machineset.yaml
        assertions:
          - violations: yes
      - name: not-allowed-ilb-update-machineset
        object: gator-test/not_allowed_ilb_update_machineset.yaml
        assertions:
          - violations: yes
      - name: not-allowed-plb-create-machineset
        object: gator-test/not_allowed_plb_create_machineset.yaml
        assertions:
          - violations: yes
      - name: not-allowed-plb-update-machineset
        object: gator-test/not_allowed_plb_update_machineset.yaml
        assertions:
          - violations: yes